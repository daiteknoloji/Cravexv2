# PostgreSQL Configuration for Production
server_name: "cravexv3-production.up.railway.app"
pid_file: /tmp/homeserver.pid

listeners:
  - port: 8008
    tls: false
    type: http
    x_forwarded: true
    bind_addresses: ['0.0.0.0']
    resources:
      - names: [client, federation]
        compress: false

# Web Client (Element) Settings
web_client_location: https://bubbly-wonder-production.up.railway.app

# CORS Settings
cors_origins:
  - https://bubbly-wonder-production.up.railway.app
  - https://cravexv2-production.up.railway.app

# PostgreSQL Database
database:
  name: psycopg2
  allow_unsafe_locale: true
  args:
    user: neondb_owner
    password: npg_p5kvxZrC4tOd
    database: Cravex
    host: ep-odd-sunset-aggu808m-pooler.c-2.eu-central-1.aws.neon.tech
    port: 5432
    cp_min: 5
    cp_max: 10

# Media Storage (using /tmp for Railway compatibility)
media_store_path: /tmp/media_store
max_upload_size: 50M

# Registration
enable_registration: true
enable_registration_without_verification: true

# Security
report_stats: false
macaroon_secret_key: "OrCuXgz6PywSjZ8DHoEhpLcKfbxd0vRe"
form_secret: "pt8WNakVYwqM7e3n2PCuvOJb9i5z4DQG"
signing_key_path: "/tmp/homeserver.signing.key"

# Federation
suppress_key_server_warning: true
trusted_key_servers:
  - server_name: "matrix.org"





